# Structural Patterns

正如名称所示，结构型模式（Structural patterns）旨在设置应用程序的结构，以提高对 SOLID 原则的遵循性以及代码的整体可用性和可重构性。

当确定对象结构时，我们可以采用两种相当知名的方法：

- 继承：一个对象自动获取其基类的非私有字段和函数。为了允许实例化，该对象必须实现来自其父类的所有纯虚成员；如果它没有实现，则它是抽象的，不能被创建（但可以从它继承）。
- 组合：通常意味着子对象不能在没有父对象的情况下存在。可以想象一个对象拥有类型为 `owner<T>` 的成员：当该对象被销毁时，这些成员也会随之销毁。
- 聚合：一个对象可以包含另一个对象，但那个对象也可以独立存在。可以想象一个对象拥有类型为 `T*` 或 `shared_ptr<T>` 的成员。

如今，组合和聚合往往被视为相同的方式处理。如果您有一个 `Person` 类，其中包含类型为 `Address` 的字段，您可以选择 `Address` 是外部类型还是嵌套类型。在这两种情况下，只要它是公有的，您都可以将其作为 `Address` 或 `Person::Address` 进行实例化。

我可以说，在实际上指的是聚合时使用“组合”这个词已经变得如此普遍，以至于我们可以互换使用它们。这里有一些证据：当我们谈论 IoC 容器时，我们提到的是组合根（composition root）。但是等一下，IoC 容器不是控制每个对象的生命周期吗？确实是这样的，所以我们在这里使用“组合”这个词时，实际上指的是“聚合”。
